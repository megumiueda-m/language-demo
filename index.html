<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ç¿»è¨³ãƒ‡ãƒ¢</title>
</head>
<body>
  <h1>ğŸŒ ç¿»è¨³ã‚¢ãƒ—ãƒª</h1>
  <textarea id="text" rows="4" cols="50" placeholder="ç¿»è¨³ã—ãŸã„æ–‡ç« ã‚’å…¥åŠ›..."></textarea><br><br>

  <select id="lang">
    <option value="en">è‹±èª</option>
    <option value="fr">ãƒ•ãƒ©ãƒ³ã‚¹èª</option>
    <option value="zh">ä¸­å›½èª</option>
    <option value="ko">éŸ“å›½èª</option>
  </select>
  <button onclick="translateText()">ç¿»è¨³ã™ã‚‹</button>

  <h3>ç¿»è¨³çµæœï¼š</h3>
  <p id="result"></p>

  <script>
async function translateText() {
  const text = document.getElementById("text").value;
  const target = document.getElementById("lang").value;

  const res = await fetch(
    "https://translation.googleapis.com/language/translate/v2?key=AIzaSyCGQRHrNfvFJU9oMYn_zEtfTlO-IkGuyHo",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ q: text, target: target })
    }
  );

  const data = await res.json();

  // ğŸ‘‡ HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—è§£é™¤ç”¨é–¢æ•°
  function decodeHtml(html) {
    const txt = document.createElement("textarea");
    txt.innerHTML = html;
    return txt.value;
  }

  const translated = data.data.translations[0].translatedText;
  document.getElementById("result").innerText = decodeHtml(translated);
}

  </script>
</body>
</html>
